![run-tests](../../workflows/run-tests/badge.svg)

  

# 2024 Project 1 : Asteroids

 ## Προσωπικά στοιχεία

  

__Όνομα__: Σταματίνα Ναδάλη

  

__Α.Μ.__: sdi2300137

  

## Ασκήσεις που παραδίδονται

- Ασκήσεις 1 - 6

## Περιγραφή παιχνιδιού
Στο παιχνίδι αυτό ένα διαστημόπλοιο εξερευνεί το αχανές διάστημα, προσπαθώντας να αποφύγει αστεροειδείς που εμφανίζονται στο δρόμο του. Σκοπός του παιχνιδιού είναι το διαστημόπλοιο να ταξιδέψει όσο περισσότερο γίνεται, ελαχιστοποιώντας τον αριθμό των αστεροειδών που καταστρέφει. <br> <br>
<p align="center">
<img src ="https://github.com/chatziko-k08/2024-project-1-matinanadali/assets/140314761/95c26fe4-80e9-48b5-a246-7603b0250d27" />
</p>
<br>

## Οδηγίες εγκατάστασης
Μπορείτε να κατεβάσετε και να τρέξετε το παιχνίδι στον υπολογιστή σας, εκτελώντας τις ακόλουθες εντολές στο τερματικό:

```
git clone https://github.com/chatziko-k08/2024-project-1-matinanadali.git
cd 2024-project-1-matinanadali/programs/game
make run
```

**Προσοχή!** Το παιχνίδι είναι συμβατό μόνο με το λειτουργικό σύστημα Linux. Η εκτέλεση του σε άλλα λειτουργικά συστήματα πιθανόν να έχει επιπτώσεις στην απόδοσή των γραφικών του.

## Τεχνολογίες που χρησιμοποιήθηκαν
![c icon](https://github.com/chatziko-k08/2024-project-1-matinanadali/assets/140314761/4e3ed245-a33e-49fb-8a4c-d1f058d9c535)
![raylib_icon](https://github.com/chatziko-k08/2024-project-1-matinanadali/assets/140314761/d9d4d2b4-b0b6-44a6-ae7e-40fcf8f3e70b)

## Λεπτομέρειες υλοποιήσεων
### 1. Αρχική υλοποίηση (υλοποίηση μέσω Vector)
Στην αρχική υλοποίηση του παιχνιδιού, όλα τα αντικείμενα που εμφανίζονται στην οθόνη αποθηκεύονται σε έναα vector (objects), επομένως οποιαδήποτε συνάρτηση χρειάζεται να έχει πρόσβααση σε κάποιο/α από αυτά πρέπει να διατρέξει όλο το vector, με αποτέλεσμα τόσο η εύρεση των ορατών αντικειμένων όσο και η κατηγοριοποίησή τους σε αστεροειδείς και σφαίρες να καθυστερεί.

### 2. Εναλλακτική υλοποίηση (υλοποίηση μέσω Set)
**Εκτελέση παιχνιδιού με χρήση της εναλλακτικής υλοποίησης**
```
../2024_project_1_matinanadali/programs/game
make alt_run
```
Στην εναλλακτική υλοποίηση του παιχνιδιού, χρησιμοποιούνται δύο ξεχωριστά set, ένα για την αποθήκευση των αστεροειδών και ένα για την αποθήκευση των σφαιρών, στα οποία τα αντικέιμενα είναι **ταξινομημένα με βάση τις x-συντεταγμένες τους.** <br>
Συνεπώς, η προσπέλαση των στοιχείων κάθε set, με τετμημένες x που ανήκουν στο ορατό μέρος της συνολικής πίστας, πραγματοποιείται σε χρόνο O(logn), με τη χρήση των βοηθητικών συναρτήσεων:
```
SetNode set_find_node_eq_or_greater(Set set, Pointer value)
SetNode set_find_node_eq_or_smaller(Set set, Pointer value)
```
, οι οποίες επιστρέφουν αντίστοιχα τον πρώτο και τον τελευταίο κόμβο του set με αντικείμενα που έχουν αποδεκτές x-συντεταγμένες.
<br>
Έπειτα, μένει να εξετάσουμε ποια από αυτά τα αντικείμενα έχουν και τις y-συντεταγμένες τους εντός του ορατού μέρους της πίστας, ώστε να τα επεξεργαστούμε και να τα σχεδιάσουμε.

## Λεπτομέρειες σχεδίασης
Για τη σχεδίαση των γραφικών χρησιμοποιήθηκε η βιβλιοθήκη raylib. Ειδικότερα:
### 1. Κατεύθυνση διαστημοπολοίου
  Το διαστημόπλοιο αρχικοποιείται ως ένα ισοσκελές τρίγωνο, το οποίο "δείχνει" προς τα πάνω και στη συνέχεια περιστρέφεται ώστε η κατεύθυνση του να ταυτιστεί με την κατεύθυνση του διανύσματος orientation. Υπολογίζουμε, λοιπόν, την γωνία που δημιουργεί το διάνυσμα orientation με την ημιευθεία Ox:
  ```
  double angle = atan2(state_info(state)->spaceship->orientation.y, state_info(state)->spaceship->orientation.x);
  ```
  Και στη συνέχεια, κάθε διάνυσμα των κορυφών του τριγώνου-διαστημοπλοίου περιστρέφεται κατά $`-\frac{\pi}{2} + angle`$. <br>
### 2. Μεταφορά της αρχής των αξόνων
Ακόμα και αν το διαστημόπλοιο κινείται, αυτό πρέπει πάντα να παραμένει στο κέντρο της οθόνης. <br><br>
Έτσι, αν το διαστημόπλοιο βρίσκεται στη θέση (sx, sy) με βάση το αρχικό σύστημα συντεταγμένων, το νέο σύστημα συντεταγμένων με βάση το οποίο θα σχεδιάσουμε όλα τα αντικείμενα, έχει αρχή το σημείο (width/2 - sx, height/2 + sy), εφόσον λαμβάνουμε υπόψη ότι για τις συναρτήσεις τις βιβλιοθήκης, το σημείο (0, 0) βρίσκεται στην πάνω δεξία γωνία της οθόνης. <br><br>
Επομένως, για να σχεδιάσουμε σωστά όλα τα αντικείμενα (συμπεριλαμβανομένου και του διαστημοπλοίου) χρειάζεται να προσθέσουμε στο διάνυσμα θέσης τους το διάνυσμα της νέας αρχής, δηλαδή: (width/2 - sx, height/2 + sy).

## Design Competition
Μερικές από τις σημαντικότερες διαφορές του παιχνιδιού στα πλαίσια του design competition από την αρχική έκδοση είναι οι εξής:
### 1. Δημιουργία περισσότερων καταστάσεων οθόνης
Ο παίκτης δεν βλέπει απευθείας την κεντρική οθόνη του παιχνιδιού, αλλά περνάει από μία σειρά από οθόνες που εξασφαλίζουν μια πιο ομαλή μετάβαση ανάμεσα στα διάφορα στάδια του παιχνιδιού. Αυτές οι οθόνες περιλαμβάνουν:
<ul>
  <li>  Welcome Screen: Η αρχική οθόνη που καλωσορίζει τον παίκτη. </li>
  <li>  Transition Screens: Οθόνες μετάβασης που εισάγουν τον παίκτη στην εμπειρία του παιχνιδιού. </li>
  <li>  Game Screen: Η κύρια οθόνη του παιχνιδιού όπου συμβαίνει η δράση. </li>
  <li>  Game Over Screen: Οθόνη που εμφανίζεται στο τέλος του παιχνιδιού. </li>
</ul>
Επιπλέον, ο παίκτης έχει την επιλογή να δει:
<ul>
   <li> Rules Screen: Ξεχωριστή οθόνη με τους κανόνες του παιχνιδιού. </li>
   <li> Credits Screen: Οθόνη με τα credits του παιχνιδιού. </li>
</ul>

### 2. Χρήση γραφικών για την βελτίωση του interface
### 3. Ενεργοποίηση ηχητικών εφέ στα σημαντικότερα events του παιχνιδιού
Για παράδειγμα, ακούγονται κατάλληλοι ήχοι κάθε φορά που συμβαίνει κάποια σύγκρουση μεταξύ δύο αντικειμένων ή ο παίκτης αποφασίζει να εκτοξεύσει μία σφαίρα.
### 4. Προσαρμογή των κανόνων του παιχνιδιού
Ο παίκτης διαθέτει έναν συγκεκριμένο αριθμό σφαιρών, ο οποίος αυξάνεται κατά μία για κάθε 10 αστέρια που συλλέγει. Επιπλέον, ο παίκτης έχει έναν περιορισμένο αριθμό ζωών, οι οποίες μειώνονται κάθε φορά που το διαστημόπλοιό του συγκρούεται με έναν αστεροειδή.